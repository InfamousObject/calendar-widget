(()=>{"use strict";var e={n:o=>{var r=o&&o.__esModule?()=>o.default:()=>o;return e.d(r,{a:r}),r},d:(o,r)=>{for(var t in r)e.o(r,t)&&!e.o(o,t)&&Object.defineProperty(o,t,{enumerable:!0,get:r[t]})},o:(e,o)=>Object.prototype.hasOwnProperty.call(e,o)};const o=window.wp.blocks,r=window.wp.blockEditor,t=window.wp.components,n=window.wp.element,s=window.wp.i18n,i=window.wp.apiFetch;var a=e.n(i);const l=window.ReactJSXRuntime;(0,o.registerBlockType)("kentroi/form",{edit:function({attributes:e,setAttributes:o}){const{formId:i,height:d}=e,c=(0,r.useBlockProps)(),[p,w]=(0,n.useState)([]),[f,u]=(0,n.useState)(!0),[m,_]=(0,n.useState)(null);(0,n.useEffect)(()=>{a()({path:"/kentroi/v1/features"}).then(e=>{e.success&&e.data?.forms&&w(e.data.forms),u(!1)}).catch(e=>{_(e.message||(0,s.__)("Failed to load","kentroi-for-wordpress")),u(!1)})},[]);const h=[{label:(0,s.__)("Select a form...","kentroi-for-wordpress"),value:""},...p.map(e=>({label:e.name,value:e.id}))];return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(r.InspectorControls,{children:(0,l.jsxs)(t.PanelBody,{title:(0,s.__)("Form Settings","kentroi-for-wordpress"),children:[!f&&!m&&(0,l.jsx)(t.SelectControl,{label:(0,s.__)("Form","kentroi-for-wordpress"),value:i,options:h,onChange:e=>o({formId:e})}),(0,l.jsx)(t.RangeControl,{label:(0,s.__)("Height (pixels)","kentroi-for-wordpress"),value:d,onChange:e=>o({height:e}),min:200,max:1200,step:50})]})}),(0,l.jsx)("div",{...c,children:(0,l.jsx)(t.Placeholder,{icon:"feedback",label:(0,s.__)("Kentroi Form","kentroi-for-wordpress"),instructions:f?(0,s.__)("Loading...","kentroi-for-wordpress"):i?(0,s.__)("Form preview","kentroi-for-wordpress"):(0,s.__)("Select a form","kentroi-for-wordpress"),children:f&&(0,l.jsx)(t.Spinner,{})})})]})}})})();